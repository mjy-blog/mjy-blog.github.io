3:I[4707,[],""]
5:I[36423,[],""]
6:I[25217,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"ThemeProvider"]
7:I[87916,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"BlogProvider"]
8:I[60636,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"HierarchyProvider"]
9:I[77411,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"Header"]
4:["slug","2024-10-01-branded-types","d"]
0:["ojOCz3zuUAaaBIZzydfan",[[["",{"children":["posts",{"children":[["slug","2024-10-01-branded-types","d"],{"children":["__PAGE__?{\"slug\":\"2024-10-01-branded-types\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","2024-10-01-branded-types","d"],{"children":["__PAGE__",{},[["$L1","$L2",null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ea7c1ae2de6b4fec.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"ko","children":[["$","head",null,{"children":[["$","meta",null,{"content":"width=device-width, initial-scale=1","name":"viewport"}],[["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/theme/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/theme/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/theme/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/theme/site.webmanifest"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.css","integrity":"sha384-K1E1xaIzoWihlXfiT5fcmLNabsnrl+dqc0errnRwtMX14tKRA9cCYNDGnXiHEZMs","crossOrigin":"anonymous"}]]]}],["$","body",null,{"children":["$","$L6",null,{"children":["$","$L7",null,{"children":["$","$L8",null,{"children":["$","div",null,{"className":"flex flex-col min-h-screen","children":[["$","$L9",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}],["$","footer",null,{"className":"border-t py-6 md:py-0","children":["$","div",null,{"className":"container mx-auto px-4 flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row","children":[["$","p",null,{"className":"text-center text-sm leading-loose text-muted-foreground md:text-left","children":"Copyright ©. All rights reserved."}],["$","nav",null,{"className":"flex items-center space-x-4 text-sm font-medium","children":[["$","a",null,{"href":"https://github.com/mjy-blog/core","children":"Core"}],["$","a",null,{"href":"https://github.com/mjy-blog/theme-example","children":"Theme"}]]}]]}]}]]}]}]}]}]}]]}]],null],null],["$La",null]]]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Branded Types | mjy-blog"}],["$","meta","3",{"property":"og:title","content":"Branded Types | mjy-blog"}],["$","meta","4",{"name":"twitter:card","content":"summary"}],["$","meta","5",{"name":"twitter:title","content":"Branded Types | mjy-blog"}]]
1:null
b:I[44378,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"PostPage"]
2:["$","$Lb",null,{"hierarchy":{"nodes":[["C",{"type":"category"}],["CMake",{"type":"category"}],["HTML",{"type":"category"}],["IT 잡지식",{"type":"category"}],["Tools",{"type":"category"}],["TypeScript",{"type":"category","sub":[["문법",{"type":"category"}],["2024-10-01-branded-types",{"type":"post","title":"Branded Types"}]]}],["Unity",{"type":"category"}],["vscode",{"type":"category"}],["기타",{"type":"category"}],["웹",{"type":"category"}],["튜토리얼",{"type":"category"}],["프로젝트",{"type":"category"}]],"path":["TypeScript"]},"MDXContent":[["$","h2",null,{"id":"TOC","children":"목차"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#what-is-branded-type","children":"Branded Type이란?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#why-needed","children":"왜 필요한가?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#in-other-languages","children":"다른 언어는?"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#things-to-note","children":"주의할 점"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#alternatives","children":"대안"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#conclusion","children":"결론"}]}],"\n"]}],"\n",["$","h2",null,{"id":"what-is-branded-type","children":"Branded Type이란?"}],"\n",["$","p",null,{"children":"Branded Type은 타입스크립트에서 같은 타입인데, 서로 호환되지 않는 타입을 말한다."}],"\n",["$","p",null,{"children":"예를 들면 이런 식으로."}],"\n",["$","pre",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"Uuid"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"\" type\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"UUID\""}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":["Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token operator","children":">"}]]}]," ",["$","span",null,{"className":"token operator","children":"="}]," Uuid ",["$","span",null,{"className":"token operator","children":"&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"\" idFor\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token constant","children":"T"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"UserId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token string","children":"\"User\""}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"PostId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token string","children":"\"Post\""}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"let"}]," uuid",["$","span",null,{"className":"token operator","children":":"}]," Uuid",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"let"}]," userId",["$","span",null,{"className":"token operator","children":":"}]," UserId",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"let"}]," postId",["$","span",null,{"className":"token operator","children":":"}]," PostId",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["uuid ",["$","span",null,{"className":"token operator","children":"="}]," userId",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 오류 없음"}],"\n"]}],["$","span",null,{"className":"code-line","children":["postId ",["$","span",null,{"className":"token operator","children":"="}]," userId",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 오류 발생!"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Type 'UserId' is not assignable to type 'PostId'."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//   Type 'UserId' is not assignable to type '{ \" idFor\": \"Post\"; }'."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//     Types of property '\" idFor\"' are incompatible."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//       Type '\"User\"' is not assignable to type '\"Post\"'"}],"\n"]}]]}]}],"\n",["$","h2",null,{"id":"why-needed","children":"왜 필요한가?"}],"\n",["$","pre",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"interface"}]," ",["$","span",null,{"className":"token class-name","children":"User"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    blah",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'아무튼 뭔가 있다고 치자.'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"findUserById"}],["$","span",null,{"className":"token punctuation","children":"("}],"userId",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," User",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getPostAuthorId"}],["$","span",null,{"className":"token punctuation","children":"("}],"postId",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getPostAuthor"}],["$","span",null,{"className":"token punctuation","children":"("}],"id",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," User ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"findUserById"}],["$","span",null,{"className":"token punctuation","children":"("}],"id",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":["물론 아마 누구도 이런 코드를 짜려고 하지 않을 것이다.",["$","br",null,{}],"\n","어떤 모델의 id인지, 변수명으로 명확히 표현하겠지."]}],"\n",["$","p",null,{"children":"하지만 인간은 실수를 할 수 있다. Post의 id를 넘겨야 할 곳에 User의 id를 넘길 수도 있는 것이다."}],"\n",["$","pre",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"UserId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"\" idFor\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"User\""}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"PostId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token builtin","children":"string"}]," ",["$","span",null,{"className":"token operator","children":"&"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token string-property property","children":"\" idFor\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"Post\""}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"interface"}]," ",["$","span",null,{"className":"token class-name","children":"User"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    blah",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'아무튼 뭔가 있다고 치자.'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"findUserById"}],["$","span",null,{"className":"token punctuation","children":"("}],"userId",["$","span",null,{"className":"token operator","children":":"}]," UserId",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," User",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"declare"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getPostAuthorId"}],["$","span",null,{"className":"token punctuation","children":"("}],"postId",["$","span",null,{"className":"token operator","children":":"}]," PostId",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," UserId",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"getPostAuthor"}],["$","span",null,{"className":"token punctuation","children":"("}],"id",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," User ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token function","children":"findUserById"}],["$","span",null,{"className":"token punctuation","children":"("}],"id",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// Argument of type 'PostId' is not assignable to parameter of type 'UserId'."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//   Type 'PostId' is not assignable to type '{ \" idFor\": \"User\"; }'."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//     Types of property '\" idFor\"' are incompatible."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//       Type '\"Post\"' is not assignable to type '\"User\"'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"Branded Type을 사용함으로써 타입 오류를 통해 이런 실수를 방지할 수 있다. 런타임 비용 없이!"}],"\n",["$","p",null,{"children":"참고로 속성 이름이 띄어쓰기로 시작하면 자동완성에 뜨지 않는다."}],"\n",["$","h2",null,{"id":"in-other-languages","children":"다른 언어는?"}],"\n",["$","p",null,{"children":"다른 (대부분의) 언어는 structural type system을 사용하지 않기 떄문에, 똑같이 생긴 타입이라도 다른 타입으로 취급한다."}],"\n",["$","p",null,{"children":"예를 들어 아래 코드에서는 동일하게 생긴 타입이지만, 다른 타입으로 취급하기 때문에 서로 호환되지 않는다."}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"C","children":"c"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-C code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"int"}]," ",["$","span",null,{"className":"token function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword","children":"int"}]," i",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}]," a",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword","children":"int"}]," i",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}]," b",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    b ",["$","span",null,{"className":"token operator","children":"="}]," a",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// error: incompatible types when assigning to type ‘struct ’ from type ‘struct ’"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"그렇기 때문에 타입 브랜딩 같은 개념은 따로 없으며, 그냥 한 번 감싼 타입을 만들어서 쓴다."}],"\n",["$","p",null,{"children":"러스트 같은 좋은 언어에서는 심지어 감싸기 전의 원래 타입으로 쓰기도 쉽다."}],"\n",["$","pre",null,{"className":"language-rust","children":["$","code",null,{"className":"language-rust code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"use"}]," ",["$","span",null,{"className":"token namespace","children":["std",["$","span",null,{"className":"token punctuation","children":"::"}],"ops",["$","span",null,{"className":"token punctuation","children":"::"}]]}],["$","span",null,{"className":"token class-name","children":"Deref"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":"macro_rules!"}]," define_newtype ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token variable","children":"$$name"}],["$","span",null,{"className":"token punctuation","children":":"}],["$","span",null,{"className":"token fragment-specifier punctuation","children":"ident"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token variable","children":"$$name"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"String"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"impl"}]," ",["$","span",null,{"className":"token variable","children":"$$name"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword","children":"fn"}]," ",["$","span",null,{"className":"token function-definition function","children":"new"}],["$","span",null,{"className":"token punctuation","children":"("}],"s",["$","span",null,{"className":"token punctuation","children":":"}]," ",["$","span",null,{"className":"token operator","children":"&"}],["$","span",null,{"className":"token keyword","children":"str"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"->"}]," ",["$","span",null,{"className":"token keyword","children":"Self"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                ",["$","span",null,{"className":"token variable","children":"$$name"}],["$","span",null,{"className":"token punctuation","children":"("}],"s",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"to_string"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"impl"}]," ",["$","span",null,{"className":"token class-name","children":"Deref"}]," ",["$","span",null,{"className":"token keyword","children":"for"}]," ",["$","span",null,{"className":"token variable","children":"$$name"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token type-definition class-name","children":"Target"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token class-name","children":"String"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token keyword","children":"fn"}]," ",["$","span",null,{"className":"token function-definition function","children":"deref"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"&"}],["$","span",null,{"className":"token keyword","children":"self"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"->"}]," ",["$","span",null,{"className":"token operator","children":"&"}],["$","span",null,{"className":"token keyword","children":"Self"}],["$","span",null,{"className":"token punctuation","children":"::"}],["$","span",null,{"className":"token class-name","children":"Target"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                ",["$","span",null,{"className":"token operator","children":"&"}],["$","span",null,{"className":"token keyword","children":"self"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token number","children":"0"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":"define_newtype!"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"UserId"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"fn"}]," ",["$","span",null,{"className":"token function-definition function","children":"main"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"let"}]," user_id ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token class-name","children":"UserId"}],["$","span",null,{"className":"token punctuation","children":"::"}],["$","span",null,{"className":"token function","children":"new"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"mjy\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// Deref 없이 원래대로라면 user_id.0으로 썼어야 한다."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token macro property","children":"println!"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"UserId: {}\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"*"}],"user_id",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"// 마찬가지로 원래대로라면 user_id.0.len으로 썼어야 한다."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token macro property","children":"println!"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"UserId length: {}\""}],["$","span",null,{"className":"token punctuation","children":","}]," user_id",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token function","children":"len"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","h2",null,{"id":"things-to-note","children":"주의할 점"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"string"}],"에 새 속성을 넣을 수는 없다. 그렇기 때문에 항상 ",["$","code",null,{"children":"as UserId"}],"처럼 as를 쓰게 될 것이다."]}],"\n",["$","pre",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token generic-function","children":[["$","span",null,{"className":"token function","children":"idOf"}],["$","span",null,{"className":"token generic class-name","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token operator","children":">"}]]}]]}],["$","span",null,{"className":"token punctuation","children":"("}],"id",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token operator","children":":"}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token operator","children":">"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," id ",["$","span",null,{"className":"token keyword","children":"as"}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"귀찮아서 이런 함수를 만들어 쓰기도 한다. 올바른 UUID가 맞는지 검증하는 등의 작업을 여기서 해도 좋고."}],"\n",["$","p",null,{"children":["단, ",["$","code",null,{"children":"idOf"}],"든 ",["$","code",null,{"children":"as"}],"든, 쓸 때 정말 이게 필요한지 유심히 살펴보고 주의해서 사용해야 한다."]}],"\n",["$","p",null,{"children":"가능하면 프레임워크 내부 등에서나 쓰고, 메인 로직에서는 쓸 일이 없도록 최소화하자."}],"\n",["$","h2",null,{"id":"alternatives","children":"대안"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"as"}],"를 쓰는 게 불편하다면?"]}],"\n",["$","p",null,{"children":"타입스크립트에서도 마찬가지로 그냥 한 번 감싼 타입을 만들어서 써도 된다."}],"\n",["$","pre",null,{"className":"language-ts","children":["$","code",null,{"className":"language-ts code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"interface"}]," ",["$","span",null,{"className":"token class-name","children":["Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token operator","children":">"}]]}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    value",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token builtin","children":"string"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"for"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token constant","children":"T"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"UserId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token string","children":"'user'"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"type"}]," ",["$","span",null,{"className":"token class-name","children":"PostId"}]," ",["$","span",null,{"className":"token operator","children":"="}]," Id",["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token string","children":"'post'"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"대신 값에 접근하기가 불편해지고, 거의 무의미하겠지만 성능도 아주 조금 안 좋아진다."}],"\n",["$","p",null,{"children":["그리고 어차피 이래도 ",["$","code",null,{"children":"as"}]," 쓰고 싶을걸?"]}],"\n",["$","h2",null,{"id":"conclusion","children":"결론"}],"\n",["$","p",null,{"children":"타입 브랜딩 쓰자."}]],"attributes":{"title":"Branded Types","description":"타입 브랜딩에 대해 알아보자. 타입스크립트 한정.","preview":"","tags":["TypeScript"],"categories":["TypeScript"],"type":"default","excerpt":"Branded Type은 타입스크립트에서 같은 타입인데, 서로 호환되지 않는 타입을 말한다. 예를 들면 이런 식으로: `string & { \" idFor\": \"User\" }`","createTime":"2024-10-01T20:23:36+09:00","updateTime":"2024-10-07 13:15:50 +0900"},"slug":"2024-10-01-branded-types","tocItems":[{"level":2,"title":"목차","id":"TOC"},{"level":2,"title":"Branded Type이란?","id":"what-is-branded-type"},{"level":2,"title":"왜 필요한가?","id":"why-needed"},{"level":2,"title":"다른 언어는?","id":"in-other-languages"},{"level":2,"title":"주의할 점","id":"things-to-note"},{"level":2,"title":"대안","id":"alternatives"},{"level":2,"title":"결론","id":"conclusion"}]}]
