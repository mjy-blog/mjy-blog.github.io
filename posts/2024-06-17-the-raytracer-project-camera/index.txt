3:I[4707,[],""]
5:I[36423,[],""]
6:I[25217,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"ThemeProvider"]
7:I[87916,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"BlogProvider"]
8:I[60636,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"HierarchyProvider"]
9:I[77411,["8310","static/chunks/0e5ce63c-071548683042eae5.js","4642","static/chunks/4642-f64436cc05efdcb6.js","1925","static/chunks/1925-374aca03d3718244.js","3185","static/chunks/app/layout-804c0be9531e3afc.js"],"Header"]
4:["slug","2024-06-17-the-raytracer-project-camera","d"]
0:["ojOCz3zuUAaaBIZzydfan",[[["",{"children":["posts",{"children":[["slug","2024-06-17-the-raytracer-project-camera","d"],{"children":["__PAGE__?{\"slug\":\"2024-06-17-the-raytracer-project-camera\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","2024-06-17-the-raytracer-project-camera","d"],{"children":["__PAGE__",{},[["$L1","$L2",null],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/ea7c1ae2de6b4fec.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"ko","children":[["$","head",null,{"children":[["$","meta",null,{"content":"width=device-width, initial-scale=1","name":"viewport"}],[["$","link",null,{"rel":"apple-touch-icon","sizes":"180x180","href":"/theme/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/theme/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/theme/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/theme/site.webmanifest"}],["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.css","integrity":"sha384-K1E1xaIzoWihlXfiT5fcmLNabsnrl+dqc0errnRwtMX14tKRA9cCYNDGnXiHEZMs","crossOrigin":"anonymous"}]]]}],["$","body",null,{"children":["$","$L6",null,{"children":["$","$L7",null,{"children":["$","$L8",null,{"children":["$","div",null,{"className":"flex flex-col min-h-screen","children":[["$","$L9",null,{}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}],["$","footer",null,{"className":"border-t py-6 md:py-0","children":["$","div",null,{"className":"container mx-auto px-4 flex flex-col items-center justify-between gap-4 md:h-24 md:flex-row","children":[["$","p",null,{"className":"text-center text-sm leading-loose text-muted-foreground md:text-left","children":"Copyright ©. All rights reserved."}],["$","nav",null,{"className":"flex items-center space-x-4 text-sm font-medium","children":[["$","a",null,{"href":"https://github.com/mjy-blog/core","children":"Core"}],["$","a",null,{"href":"https://github.com/mjy-blog/theme-example","children":"Theme"}]]}]]}]}]]}]}]}]}]}]]}]],null],null],["$La",null]]]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"2 - raytracer 프로젝트 - 카메라 | mjy-blog"}],["$","meta","3",{"property":"og:title","content":"2 - raytracer 프로젝트 - 카메라 | mjy-blog"}],["$","meta","4",{"name":"twitter:card","content":"summary"}],["$","meta","5",{"name":"twitter:title","content":"2 - raytracer 프로젝트 - 카메라 | mjy-blog"}]]
1:null
b:I[44378,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"PostPage"]
c:I[19895,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"NoSSR"]
d:I[71996,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"Collapse"]
e:I[44896,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"Preview0"]
f:I[556,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"Preview1"]
10:I[44568,["1919","static/chunks/ebbfb5c1-a73c51b6a41a5ff6.js","4642","static/chunks/4642-f64436cc05efdcb6.js","7543","static/chunks/7543-44cf95f51b263ee3.js","333","static/chunks/app/posts/%5Bslug%5D/page-563305aae20a5902.js"],"Preview2"]
2:["$","$Lb",null,{"hierarchy":{"nodes":[["C",{"type":"category"}],["CMake",{"type":"category"}],["HTML",{"type":"category"}],["IT 잡지식",{"type":"category"}],["Tools",{"type":"category"}],["TypeScript",{"type":"category"}],["Unity",{"type":"category"}],["vscode",{"type":"category"}],["기타",{"type":"category"}],["웹",{"type":"category"}],["튜토리얼",{"type":"category","sub":[["그래픽스",{"type":"category","sub":[["레이트레이싱",{"type":"category","sub":[["2024-06-15-what-is-ray-tracing",{"type":"post","title":"레이트레이싱이란?"}],["2024-06-16-the-raytracer-project-start",{"type":"post","title":"1 - raytracer 프로젝트 - 시작!"}],["2024-06-17-the-raytracer-project-camera",{"type":"post","title":"2 - raytracer 프로젝트 - 카메라"}],["2024-06-24-the-raytracer-project-mathematical-background",{"type":"post","title":"2 - raytracer 프로젝트 - 수학적 배경"}]]}]]}]]}],["프로젝트",{"type":"category"}]],"path":["튜토리얼","그래픽스","레이트레이싱"]},"MDXContent":[["$","p",null,{"className":"hint tip","children":["이 글은 ",["$","a",null,{"href":"/tags/raytracer","children":"raytracer"}]," 시리즈입니다."]}],"\n",["$","h2",null,{"id":"TOC","children":"목차"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["$","a",null,{"href":"#utils","children":"유틸"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#perspective-camera","children":"원근 카메라"}]}],"\n",["$","li",null,{"children":["$","a",null,{"href":"#orthogonal-camera","children":"직교 카메라"}]}],"\n"]}],"\n",["$","h2",null,{"id":"utils","children":"유틸"}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"util.h"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"pragma"}]," ",["$","span",null,{"className":"token expression","children":"once"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<stddef.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token function","children":"alloc"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"size_t"}]," size",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token function","children":"memdup"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"mem",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," length",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"우선 공통으로 쓰일 부분들을 따로 함수로 빼 두자."}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"util.c"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"util.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<stdio.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<stdlib.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<string.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token function","children":"alloc"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"size_t"}]," size",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token keyword","children":"const"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"malloc"}],["$","span",null,{"className":"token punctuation","children":"("}],"size",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],"result",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"fprintf"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token constant","children":"stderr"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\"Failed to allocate memory\\n\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"exit"}],["$","span",null,{"className":"token punctuation","children":"("}],"EXIT_FAILURE",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token function","children":"memdup"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"mem",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," length",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token keyword","children":"const"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"alloc"}],["$","span",null,{"className":"token punctuation","children":"("}],"length",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token function","children":"memcpy"}],["$","span",null,{"className":"token punctuation","children":"("}],"result",["$","span",null,{"className":"token punctuation","children":","}]," mem",["$","span",null,{"className":"token punctuation","children":","}]," length",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","h2",null,{"id":"perspective-camera","children":"원근 카메라"}],"\n",["$","p",null,{"children":[["$","a",null,{"href":"/posts/2024-06-16-the-raytracer-project-start","children":"이전 글"}],"에서 간이로 간단한 직교 카메라를 구현했었다."]}],"\n",["$","p",null,{"children":"카메라를 바꾸고 비교하기 위해 먼저 씬을 좀 바꿔보자."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2024"}],["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"06"}],["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"16"}],["$","span",null,{"className":"token operator","children":"-"}],"the",["$","span",null,{"className":"token operator","children":"-"}],"raytracer",["$","span",null,{"className":"token operator","children":"-"}],"project",["$","span",null,{"className":"token operator","children":"-"}],"start",["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"15"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"18"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"15"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"24"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"float"}]," radius",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," orthogonal_camera_scale ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," orthogonal_camera_scale ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"3.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," white ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}]," sphere ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}]," spheres",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.1f"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"static"}]," ",["$","span",null,{"className":"token keyword","children":"inline"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," ",["$","span",null,{"className":"token function","children":"sqr"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}]," x",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword","children":"return"}]," x ",["$","span",null,{"className":"token operator","children":"*"}]," x",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"bool ",["$","span",null,{"className":"token function","children":"collide"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}]," sphere",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"out_normal",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"bool ",["$","span",null,{"className":"token function","children":"collide"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}]," sphere",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"out_normal",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"             ",["$","span",null,{"className":"token keyword","children":"float"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"out_distance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token comment","children":"// 카메라가 구 안에 있는지"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3_length"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3_sub"}],["$","span",null,{"className":"token punctuation","children":"("}],"ray",["$","span",null,{"className":"token punctuation","children":"."}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," sphere",["$","span",null,{"className":"token punctuation","children":"."}],"center",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"<"}]," sphere",["$","span",null,{"className":"token punctuation","children":"."}],"radius",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token operator","children":"*"}],"out_normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_mul1"}],["$","span",null,{"className":"token punctuation","children":"("}],"ray",["$","span",null,{"className":"token punctuation","children":"."}],"direction",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token operator","children":"*"}],"out_distance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token keyword","children":"return"}]," true",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"90"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"6"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"96"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"8"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token comment","children":"// 하지만 길이가 1이 아닐 수 있으므로 정규화를 해야 함"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token operator","children":"*"}],"out_normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_normalize"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"*"}],"out_normal",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token operator","children":"*"}],"out_distance ",["$","span",null,{"className":"token operator","children":"="}]," t",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"return"}]," true",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"100"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"9"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"108"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"17"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_add"}],["$","span",null,{"className":"token punctuation","children":"("}],"camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],"x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," z",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," camera_direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," normal",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token function","children":"collide"}],["$","span",null,{"className":"token punctuation","children":"("}],"ray",["$","span",null,{"className":"token punctuation","children":","}]," sphere",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"normal",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"    ",["$","span",null,{"className":"token keyword","children":"return"}]," white",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," tmp_normal",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"float"}]," tmp_distance",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"float"}]," distance ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"for"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"size_t"}]," i ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}]," i ",["$","span",null,{"className":"token operator","children":"<"}]," ",["$","span",null,{"className":"token keyword","children":"sizeof"}],["$","span",null,{"className":"token punctuation","children":"("}],"spheres",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token keyword","children":"sizeof"}],["$","span",null,{"className":"token punctuation","children":"("}],"spheres",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," i",["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"collide"}],["$","span",null,{"className":"token punctuation","children":"("}],"ray",["$","span",null,{"className":"token punctuation","children":","}]," spheres",["$","span",null,{"className":"token punctuation","children":"["}],"i",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"tmp_normal",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"tmp_distance",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"distance ",["$","span",null,{"className":"token operator","children":"<"}]," tmp_distance",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"        distance ",["$","span",null,{"className":"token operator","children":"="}]," tmp_distance",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"        normal ",["$","span",null,{"className":"token operator","children":"="}]," tmp_normal",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["       ",["$","span",null,{"className":"token comment","children":"// normal의 각 요소는 -1에서 1 사이이므로, 0에서 255 사이로 만든다"}],"\n"]}]]}]}],"\n",["$","img",null,{"src":"./static/0.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}],"\n",["$","$Lc",null,{"children":["$","$Ld",null,{"title":"직접 시도해 보기","children":["$","$Le",null,{}]}]}],"\n",["$","p",null,{"children":"이제 카메라를 아주 간단히 바꿔보자."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"15"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"15"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"float"}]," radius",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," orthogonal_camera_scale ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"3.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"1.5707963267948966f"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 90도"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," white ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"102"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"11"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"102"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"12"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," ",["$","span",null,{"className":"token function","children":"renderer"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x_on_image",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y_on_image",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," x_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," orthogonal_camera_scale",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token comment","children":"// y_on_image는 높을수록 아래인데 z는 높을수록 위이므로, 반대로 처리"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," z ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," y_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," orthogonal_camera_scale",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_add"}],["$","span",null,{"className":"token punctuation","children":"("}],"camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],"x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," z",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," camera_direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," x_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," z ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," y_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_normalize"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"{"}],"x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," z",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"camera_position",["$","span",null,{"className":"token punctuation","children":","}]," direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," tmp_normal",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":["여기에서 fov란 ",["$","strong",null,{"children":"F"}],"ield ",["$","strong",null,{"children":"O"}],"f ",["$","strong",null,{"children":"V"}],"iew, 시야각을 의미한다."]}],"\n",["$","img",null,{"src":"./static/1.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}],"\n",["$","$Lc",null,{"children":["$","$Ld",null,{"title":"직접 시도해 보기","children":["$","$Lf",null,{}]}]}],"\n",["$","p",null,{"children":"일단 여기에는 문제가 좀 있다. 딱 봐도 이상해 보인다."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"./static/0.png","alt":"각도가 기준일 때 거리가 다른 모습"}]}],"\n",["$","p",null,{"children":"각도를 기준으로 하면 평면에 투영했을 때 거리가 달라진다."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"102"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"10"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"102"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"9"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," ",["$","span",null,{"className":"token function","children":"renderer"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x_on_image",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y_on_image",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"      ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," x_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," z ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"      ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," y_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," tan_fov ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],"perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," x_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," tan_fov",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," z ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," y_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," tan_fov",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_normalize"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"{"}],"x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," z",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"camera_position",["$","span",null,{"className":"token punctuation","children":","}]," direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}]]}]}],"\n",["$","p",null,{"children":"그렇다면 거리를 기준으로 하면 어떨까?"}],"\n",["$","img",null,{"src":"./static/2.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}],"\n",["$","$Lc",null,{"children":["$","$Ld",null,{"title":"직접 시도해 보기","children":["$","$L10",null,{}]}]}],"\n",["$","p",null,{"children":"각도가 달라진다. 어떻게 하든 왜곡은 생기지만, 이는 어쩔 수 없는 현상이다."}],"\n",["$","p",null,{"children":["$","img",null,{"src":"./static/1.png","alt":"거리가 기준일 때 각도가 다른 모습"}]}],"\n",["$","p",null,{"children":"어쨌든 본격적으로 카메라를 구현해보자."}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"ray.h"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"pragma"}]," ",["$","span",null,{"className":"token expression","children":"once"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"f3.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"ray"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":["일단 ",["$","code",null,{"children":"ray.h"}],"를 공통으로 쓰도록 빼 두고,"]}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"camera.h"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"pragma"}]," ",["$","span",null,{"className":"token expression","children":"once"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"ray.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment","children":"/**\n"}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment","children":" * @brief get ray from (x, y) in image\n"}]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":" */"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token class-name","children":"camera_get_ray_t"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"camera"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"camera_get_ray_t"}]," get_ray",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"camera_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"enum"}]," ",["$","span",null,{"className":"token class-name","children":"camera_fov_mode"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  FOV_X",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  FOV_Y",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"camera_fov_mode_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," yaw",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," pitch",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                            ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                            ",["$","span",null,{"className":"token class-name","children":"camera_fov_mode_t"}]," fov_mode",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"perspective_camera_by_position"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                        ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," look_at_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                        ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                        ",["$","span",null,{"className":"token class-name","children":"camera_fov_mode_t"}]," fov_mode",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"enum"}]," ",["$","span",null,{"className":"token class-name","children":"camera_size_mode"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  SIZE_WIDTH",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  SIZE_HEIGHT",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"camera_size_mode_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"orthogonal_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," yaw",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," pitch",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                           ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                           ",["$","span",null,{"className":"token class-name","children":"camera_size_mode_t"}]," size_mode",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," size",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"orthogonal_camera_by_position"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                       ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," look_at_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                       ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                       ",["$","span",null,{"className":"token class-name","children":"camera_size_mode_t"}]," size_mode",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                                       ",["$","span",null,{"className":"token keyword","children":"float"}]," size",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"카메라의 타입과 카메라를 만드는 함수를 선언한다."}],"\n",["$","p",null,{"children":"위에서는 가로/세로 비율이 같아서 fov 하나로 가로/세로에 같은 fov를 사용했지만, 가로/세로 비율이 다르면 각자 다른 fov를 사용해야 한다."}],"\n",["$","p",null,{"children":"가로/세로 비율(이하 종횡비)이 주어지면 가로나 세로 fov 중 한 쪽에 따라 나머지 한 쪽이 정해진다."}],"\n",["$","p",null,{"children":"즉, 가로 fov나 세로 fov 중 하나만 받아도 된다는 의미이다."}],"\n",["$","p",null,{"children":["여기서 ",["$","code",null,{"children":"camera_fov_mode_t"}],"가 주어진 fov가 가로인지 세로인지 결정하는 데 쓰인다."]}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"perspective_camera.c"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"camera.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<math.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"f3x3.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"util.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"perspective_camera_context"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"float"}]," tan_fov_x",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"float"}]," tan_fov_y",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3x3_t"}]," rotation",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"perspective_camera_context_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"static"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ",["$","span",null,{"className":"token function","children":"get_ray"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"perspective_camera_context_t"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token keyword","children":"const"}]," ctx ",["$","span",null,{"className":"token operator","children":"="}]," context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," direction_x ",["$","span",null,{"className":"token operator","children":"="}]," ctx",["$","span",null,{"className":"token operator","children":"->"}],"tan_fov_x ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"x ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," direction_y ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," direction_z ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],"ctx",["$","span",null,{"className":"token operator","children":"->"}],"tan_fov_y ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"y ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"direction_x",["$","span",null,{"className":"token punctuation","children":","}]," direction_y",["$","span",null,{"className":"token punctuation","children":","}]," direction_z",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_normalize"}],["$","span",null,{"className":"token punctuation","children":"("}],"direction",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," rotated ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3x3_mul_f3"}],["$","span",null,{"className":"token punctuation","children":"("}],"normal",["$","span",null,{"className":"token punctuation","children":","}]," ctx",["$","span",null,{"className":"token operator","children":"->"}],"rotation",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"ctx",["$","span",null,{"className":"token operator","children":"->"}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," rotated",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," yaw",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," pitch",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                            ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                            ",["$","span",null,{"className":"token class-name","children":"camera_fov_mode_t"}]," fov_mode",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," fov",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"perspective_camera_context_t"}]," context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"fov_mode ",["$","span",null,{"className":"token operator","children":"=="}]," FOV_X",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," half_fov_x ",["$","span",null,{"className":"token operator","children":"="}]," fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_x ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],"half_fov_x",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_y ",["$","span",null,{"className":"token operator","children":"="}]," context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_x ",["$","span",null,{"className":"token operator","children":"/"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"else"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," half_fov_y ",["$","span",null,{"className":"token operator","children":"="}]," fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_y ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],"half_fov_y",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_x ",["$","span",null,{"className":"token operator","children":"="}]," context",["$","span",null,{"className":"token punctuation","children":"."}],"tan_fov_y ",["$","span",null,{"className":"token operator","children":"*"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  context",["$","span",null,{"className":"token punctuation","children":"."}],"origin ",["$","span",null,{"className":"token operator","children":"="}]," camera_position",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  context",["$","span",null,{"className":"token punctuation","children":"."}],"rotation ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3x3_rotate"}],["$","span",null,{"className":"token punctuation","children":"("}],"yaw",["$","span",null,{"className":"token punctuation","children":","}]," pitch",["$","span",null,{"className":"token punctuation","children":","}]," roll",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token function","children":"memdup"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"&"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"sizeof"}],["$","span",null,{"className":"token punctuation","children":"("}],"context",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," get_ray",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"이렇게 카메라를 간단히 구현 후, 이 카메라를 적용해서 테스트 해 보자."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"20"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"18"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<math.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"<stdint.h>"}]]}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"#include ",["$","span",null,{"className":"token operator","children":"<"}],"stdio",["$","span",null,{"className":"token punctuation","children":"."}],"h",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"#include ",["$","span",null,{"className":"token string","children":"\"../../camera.h\""}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"../../f3.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"#include ",["$","span",null,{"className":"token string","children":"\"../../ray.h\""}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"../../write_image.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"ray"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"sphere"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," center",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"float"}]," radius",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"sphere_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," width ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"960"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," height ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"540"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"1.5707963267948966f"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 90도"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"102"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"12"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"100"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"10"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," ",["$","span",null,{"className":"token function","children":"renderer"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x_on_image",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y_on_image",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," tan_fov ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"tanf"}],["$","span",null,{"className":"token punctuation","children":"("}],"perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," x_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," tan_fov",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," z ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," y_on_image ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"*"}]," tan_fov",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_normalize"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"{"}],"x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," z",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"camera_position",["$","span",null,{"className":"token punctuation","children":","}]," direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token keyword","children":"const"}]," camera ",["$","span",null,{"className":"token operator","children":"="}]," context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ray ",["$","span",null,{"className":"token operator","children":"="}]," camera",["$","span",null,{"className":"token operator","children":"->"}],["$","span",null,{"className":"token function","children":"get_ray"}],["$","span",null,{"className":"token punctuation","children":"("}],"camera",["$","span",null,{"className":"token operator","children":"->"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," x_on_image",["$","span",null,{"className":"token punctuation","children":","}]," y_on_image",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," tmp_normal",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," normal ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token keyword","children":"float"}]," tmp_distance",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"133"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"5"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"129"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"8"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token keyword","children":"return"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"  ",["$","span",null,{"className":"token function","children":"write_image"}],["$","span",null,{"className":"token punctuation","children":"("}],"argv",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," renderer",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token constant","children":"NULL"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1024"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1024"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," camera ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," width ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}],["$","span",null,{"className":"token punctuation","children":")"}],"height",["$","span",null,{"className":"token punctuation","children":","}]," FOV_X",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"                         perspective_camera_fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"  ",["$","span",null,{"className":"token function","children":"write_image"}],["$","span",null,{"className":"token punctuation","children":"("}],"argv",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," renderer",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"camera",["$","span",null,{"className":"token punctuation","children":","}]," width",["$","span",null,{"className":"token punctuation","children":","}]," height",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","img",null,{"src":"./static/3.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}],"\n",["$","p",null,{"children":"이미지 가로/세로 비율을 바꿔도 대충 잘 되는 것 같다."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"130"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"130"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," camera ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"      ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," width ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}],["$","span",null,{"className":"token punctuation","children":")"}],"height",["$","span",null,{"className":"token punctuation","children":","}]," FOV_X",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"                         perspective_camera_fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.2f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.1f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.5f"}],["$","span",null,{"className":"token punctuation","children":","}]," width ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}],["$","span",null,{"className":"token punctuation","children":")"}],"height",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"                         FOV_X",["$","span",null,{"className":"token punctuation","children":","}]," perspective_camera_fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token function","children":"write_image"}],["$","span",null,{"className":"token punctuation","children":"("}],"argv",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," renderer",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"camera",["$","span",null,{"className":"token punctuation","children":","}]," width",["$","span",null,{"className":"token punctuation","children":","}]," height",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","img",null,{"src":"./static/4.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}],"\n",["$","p",null,{"children":"카메라 회전을 넣어도 마찬가지."}],"\n",["$","h2",null,{"id":"orthogonal-camera","children":"직교 카메라"}],"\n",["$","div",null,{"data-remark-code-title":true,"data-language":"c","children":"orthogonal_camera.c"}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-c code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"camera.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"f3x3.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token macro property","children":[["$","span",null,{"className":"token directive-hash","children":"#"}],["$","span",null,{"className":"token directive keyword","children":"include"}]," ",["$","span",null,{"className":"token string","children":"\"util.h\""}]]}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"typedef"}]," ",["$","span",null,{"className":"token keyword","children":"struct"}]," ",["$","span",null,{"className":"token class-name","children":"orthogonal_camera_context"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"float"}]," width",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"float"}]," height",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," direction",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"f3x3_t"}]," rotation",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token class-name","children":"orthogonal_camera_context_t"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"static"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," ",["$","span",null,{"className":"token function","children":"get_ray"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"void"}]," ",["$","span",null,{"className":"token operator","children":"*"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," x",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," y",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"orthogonal_camera_context_t"}]," ",["$","span",null,{"className":"token operator","children":"*"}],["$","span",null,{"className":"token keyword","children":"const"}]," ctx ",["$","span",null,{"className":"token operator","children":"="}]," context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," offset_x ",["$","span",null,{"className":"token operator","children":"="}]," ctx",["$","span",null,{"className":"token operator","children":"->"}],"width ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"x ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," offset_y ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," offset_z ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token operator","children":"-"}],"ctx",["$","span",null,{"className":"token operator","children":"->"}],"height ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"y ",["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token number","children":"2.0f"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token number","children":"1.0f"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," offset ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"offset_x",["$","span",null,{"className":"token punctuation","children":","}]," offset_y",["$","span",null,{"className":"token punctuation","children":","}]," offset_z",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," rotated ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3x3_mul_f3"}],["$","span",null,{"className":"token punctuation","children":"("}],"offset",["$","span",null,{"className":"token punctuation","children":","}]," ctx",["$","span",null,{"className":"token operator","children":"->"}],"rotation",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," origin ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3_add"}],["$","span",null,{"className":"token punctuation","children":"("}],"ctx",["$","span",null,{"className":"token operator","children":"->"}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," rotated",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"ray_t"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"origin",["$","span",null,{"className":"token punctuation","children":","}]," ctx",["$","span",null,{"className":"token operator","children":"->"}],"direction",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name","children":"camera_t"}]," ",["$","span",null,{"className":"token function","children":"orthogonal_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," yaw",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," pitch",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                           ",["$","span",null,{"className":"token keyword","children":"float"}]," roll",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["                           ",["$","span",null,{"className":"token class-name","children":"camera_size_mode_t"}]," size_mode",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," size",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name","children":"orthogonal_camera_context_t"}]," context",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"if"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"size_mode ",["$","span",null,{"className":"token operator","children":"=="}]," SIZE_WIDTH",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"width ",["$","span",null,{"className":"token operator","children":"="}]," size",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"height ",["$","span",null,{"className":"token operator","children":"="}]," size ",["$","span",null,{"className":"token operator","children":"/"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword","children":"else"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"width ",["$","span",null,{"className":"token operator","children":"="}]," size ",["$","span",null,{"className":"token operator","children":"*"}]," aspect_ratio",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    context",["$","span",null,{"className":"token punctuation","children":"."}],"height ",["$","span",null,{"className":"token operator","children":"="}]," size",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  context",["$","span",null,{"className":"token punctuation","children":"."}],"origin ",["$","span",null,{"className":"token operator","children":"="}]," camera_position",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  context",["$","span",null,{"className":"token punctuation","children":"."}],"rotation ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3x3_rotate"}],["$","span",null,{"className":"token punctuation","children":"("}],"yaw",["$","span",null,{"className":"token punctuation","children":","}]," pitch",["$","span",null,{"className":"token punctuation","children":","}]," roll",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  context",["$","span",null,{"className":"token punctuation","children":"."}],"direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"f3x3_mul_f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," context",["$","span",null,{"className":"token punctuation","children":"."}],"rotation",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," result ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token function","children":"memdup"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token operator","children":"&"}],"context",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"sizeof"}],["$","span",null,{"className":"token punctuation","children":"("}],"context",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," get_ray",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"return"}]," result",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","p",null,{"children":"직교 카메라는 origin이 픽셀의 화면상의 위치에 따라 적절히 떨어져 있으면 된다."}],"\n",["$","pre",null,{"className":"language-c","children":["$","code",null,{"className":"language-diff-c code-highlight","children":[["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"--"}],["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":"/"}],"main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token operator","children":"+"}]," main",["$","span",null,{"className":"token punctuation","children":"."}],"c\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"13"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"13"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," width ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"960"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"size_t"}]," height ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"540"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," perspective_camera_fov ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"1.5707963267948966f"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"// 90도"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token keyword","children":"float"}]," orthogonal_camera_size ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"5.0f"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_position ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"f3_t"}]," camera_direction ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token class-name","children":"bmp_pixel_t"}]," white ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"255"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["@@ ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"130"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," ",["$","span",null,{"className":"token operator","children":"+"}],["$","span",null,{"className":"token number","children":"130"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"7"}]," @@\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":" \n"}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token class-name","children":"camera_t"}]," camera ",["$","span",null,{"className":"token operator","children":"="}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"      ",["$","span",null,{"className":"token function","children":"perspective_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.2f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.1f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.5f"}],["$","span",null,{"className":"token punctuation","children":","}]," width ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}],["$","span",null,{"className":"token punctuation","children":")"}],"height",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line deleted","children":[["$","span",null,{"className":"token operator","children":"-"}],"                         FOV_X",["$","span",null,{"className":"token punctuation","children":","}]," perspective_camera_fov",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"      ",["$","span",null,{"className":"token function","children":"orthogonal_camera"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"f3"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.2f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.1f"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token number","children":"0.5f"}],["$","span",null,{"className":"token punctuation","children":","}]," width ",["$","span",null,{"className":"token operator","children":"/"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"float"}],["$","span",null,{"className":"token punctuation","children":")"}],"height",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line inserted","children":[["$","span",null,{"className":"token operator","children":"+"}],"                        SIZE_WIDTH",["$","span",null,{"className":"token punctuation","children":","}]," orthogonal_camera_size",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token function","children":"write_image"}],["$","span",null,{"className":"token punctuation","children":"("}],"argv",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," renderer",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"&"}],"camera",["$","span",null,{"className":"token punctuation","children":","}]," width",["$","span",null,{"className":"token punctuation","children":","}]," height",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],"\n",["$","img",null,{"src":"./static/5.bmp","alt":"결과 이미지","style":{"border":"2px solid gray"}}]],"attributes":{"title":"2 - raytracer 프로젝트 - 카메라","description":"레이트레이싱 튜토리얼!","preview":"","tags":["C","그래픽스","레이트레이싱","raytracer"],"categories":["튜토리얼","그래픽스","레이트레이싱"],"type":"default","excerpt":"이제 카메라를 아주 간단히 바꿔보자. 여기에서 fov란 Field Of View, 시야각을 의미한다. 각도를 기준으로 하면 평면에 투영했을 때 거리가 달라진다.","createTime":"2024-06-17T06:08:38+09:00","updateTime":"2024-10-06 00:43:06 +0900"},"slug":"2024-06-17-the-raytracer-project-camera","tocItems":[{"level":2,"title":"목차","id":"TOC"},{"level":2,"title":"유틸","id":"utils"},{"level":2,"title":"원근 카메라","id":"perspective-camera"},{"level":2,"title":"직교 카메라","id":"orthogonal-camera"}]}]
